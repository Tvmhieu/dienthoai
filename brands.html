<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Thương hiệu - Hshop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="index.html">Hshop</a>
      
      <form class="d-flex search-form search-form-mobile ms-auto me-2" role="search" onsubmit="return searchProducts(event)">
        <div class="search-wrapper position-relative">
          <input class="form-control" type="search" id="searchInput" placeholder="Tìm..." aria-label="Search" autocomplete="off" oninput="showSearchSuggestions(this.value)">
          <div id="searchSuggestions" class="search-suggestions"></div>
        </div>
        <button class="btn btn-outline-primary btn-sm" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </form>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link" href="products.html">Sản phẩm</a></li>
          <li class="nav-item"><a class="nav-link" href="brands.html">Thương hiệu</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Liên hệ</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container my-4">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="mt-3">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html"><i class="bi bi-house-door"></i> Trang chủ</a></li>
        <li class="breadcrumb-item active" aria-current="page">Thương hiệu</li>
      </ol>
    </nav>
    
    <h1>Thương hiệu</h1>
    <p>Chọn thương hiệu để xem toàn bộ sản phẩm thuộc thương hiệu đó.</p>
    <div id="brandsList" class="row g-3"></div>
  </main>

  <footer class="bg-light py-3 mt-5">
    <div class="container text-center">© Hshop</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/data-inline.js"></script>
  <script src="assets/js/app.js"></script>
  <script>
    // Hàm tìm kiếm sản phẩm
    function searchProducts(event) {
      event.preventDefault();
      const searchTerm = document.getElementById('searchInput').value.trim();
      if (searchTerm) {
        window.location.href = `products.html?search=${encodeURIComponent(searchTerm)}`;
      }
      return false;
    }
    
    (async ()=>{
      const data = window.PRODUCTS_DATA || await fetch('data/products.json').then(r=>r.json()).catch(()=>[]);
      const brands = [...new Set((data||[]).map(p=>p.brand).filter(Boolean))];
      const el = document.getElementById('brandsList');
      if(!el) return;
      
      // Map logo cho các thương hiệu
      const brandLogos = {
        'Apple': 'assets/img/apple-seeklogo.png',
        'Samsung': 'assets/img/samsung-seeklogo.png'
      };
      
      el.innerHTML = brands.map(b=>{
        const logo = brandLogos[b] || '';
        return `
          <div class="col-6 col-md-4 col-lg-3">
            <a class="card brand-card text-decoration-none text-center h-100" href="products.html?brand=${encodeURIComponent(b)}">
              <div class="card-body d-flex flex-column align-items-center justify-content-center">
                ${logo ? `<img src="${logo}" alt="${b}" class="brand-logo mb-2">` : ''}
                <h5 class="brand-name mb-0">${b}</h5>
              </div>
            </a>
          </div>
        `;
      }).join('');
    })();
  </script>
</body>
</html>